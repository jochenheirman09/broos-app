# Settings to manage and configure a Firebase App Hosting backend.
# https://firebase.google.com/docs/app-hosting/configure
#
# This file configures the secrets that the backend will have access to.
# These secrets are securely fetched from Google Secret Manager during deployment.
# Do NOT add hardcoded secret values to this file.

runConfig:
  # Increase this value to automatically spin up more instances
  # in response to increased traffic.
  maxInstances: 10
  # Set the timeout for server-side rendering and API calls to 3 minutes.
  timeoutSeconds: 180
  
env:
  - variable: GEMINI_API_KEY
    secret: GEMINI_API_KEY
  - variable: FIREBASE_ADMIN_SERVICE_ACCOUNT
    secret: FIREBASE_ADMIN_SERVICE_ACCOUNT
  # Step 1: Make the VAPID key available to the backend server environment.
  - variable: FIREBASE_VAPID_KEY
    secret: FIREBASE_VAPID_KEY
  # Step 2: Expose the server-side variable to the browser with the NEXT_PUBLIC_ prefix.
  - variable: NEXT_PUBLIC_FIREBASE_VAPID_KEY
    value: ${env:FIREBASE_VAPID_KEY}
