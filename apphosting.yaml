# The name of the backend resource in Firebase App Hosting.
# The name must be the same as the backend resource name in the Firebase console.
name: broos-app-backend
# The location where the backend is hosted.
# This should match your project's default GCP resource location.
location: europe-west4
# The command to run to build your backend.
build: npm run build

# The command to run to start your backend.
run: npm run start

# The minimum number of instances to keep running.
# Optional. Default is 0.
minInstances: 0

# Specifies the secrets to be made available as environment variables.
# In a real app, you would uncomment the secrets above and create them in Secret Manager.
# For this example, we will rely on the .env file for local development.
# The live app may not function correctly without the secrets configured in Secret Manager.
secrets:
  - name: FIREBASE_API_KEY
    key: FIREBASE_API_KEY
  - name: FIREBASE_AUTH_DOMAIN
    key: FIREBASE_AUTH_DOMAIN
  - name: FIREBASE_PROJECT_ID
    key: FIREBASE_PROJECT_ID
  - name: FIREBASE_STORAGE_BUCKET
    key: FIREBASE_STORAGE_BUCKET
  - name: FIREBASE_MESSAGING_SENDER_ID
    key: FIREBASE_MESSAGING_SENDER_ID
  - name: FIREBASE_APP_ID
    key: FIREBASE_APP_ID
  - name: FIREBASE_MEASUREMENT_ID
    key: FIREBASE_MEASUREMENT_ID
  - name: FIREBASE_ADMIN_SERVICE_ACCOUNT
    key: FIREBASE_ADMIN_SERVICE_ACCOUNT

# This section configures the continuous deployment for the backend.
deployment:
  # The repository to deploy from.
  repository: jochenheirman09/broos-app
  # The branch to deploy from.
  branch: main
